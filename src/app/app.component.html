<!-- 
  Author: Tarun Kumar
  Date: April 8, 2025

  Description: AppComponent Template
  This template provides the main layout for the application, including a responsive navigation bar, a sidenav for mobile, and a toolbar for desktop.
-->

<mat-sidenav-container class="sidenav-container">
  <!-- Sidenav for mobile -->
  <mat-sidenav #sidenav mode="over" class="mobile-sidenav">
    <mat-nav-list>
      <a mat-list-item routerLink="/" (click)="sidenav.close()">Dashboard</a>
      @if (!isLoggedIn) {
      <ng-container>
        <a mat-list-item routerLink="/login" (click)="sidenav.close()">Login</a>
        <a mat-list-item routerLink="/signup" (click)="sidenav.close()"
          >Sign up</a
        >
      </ng-container>
      } @else if (isLoggedIn) {
      <ng-container>
        <a mat-list-item (click)="logout(); sidenav.close()">Logout</a>
      </ng-container>
      }
    </mat-nav-list>
  </mat-sidenav>

  <!-- Main content area -->
  <mat-sidenav-content class="sidenav-content">
    <!-- Fixed Toolbar -->
    <mat-toolbar color="primary" class="mat-elevation-z4 fixed-toolbar">
      <button
        mat-icon-button
        class="mobile-only"
        (click)="sidenav.toggle()"
        aria-label="Open navigation menu"
      >
        <mat-icon>menu</mat-icon>
      </button>
      <a mat-button routerLink="/" class="app-title">
        <mat-icon>menu_book</mat-icon> E-books
      </a>
      <span class="spacer"></span>
      <nav class="desktop-only">
        <a mat-button routerLink="/" routerLinkActive="active-link"
          >Dashboard</a
        >
        @if (!isLoggedIn) {
        <a mat-button routerLink="/login" routerLinkActive="active-link"
          >Login</a
        >
        <a mat-button routerLink="/signup" routerLinkActive="active-link"
          >Sign up</a
        >
        } @else {
        <button mat-button (click)="logout()">Logout</button>
        }
      </nav>
    </mat-toolbar>

    <!-- Scrollable content area -->
    <main class="main-container mat-typography">
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
